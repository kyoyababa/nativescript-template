<ActionBar title="{{getActionBarTitle()}}"></ActionBar>

<StackLayout>
  <FlexboxLayout *ngIf="shouldShow('PRETITLE')" class="pretitle">
    <StackLayout>
      <Label text="{{getActionBarTitle()}}"></Label>
    </StackLayout>
  </FlexboxLayout>

  <FlexboxLayout *ngIf="shouldShow('DISPLAY')" flexDirection="column">
    <StackLayout class="display">
      <StackLayout class="question">
        <Label textWrap="true" text="{{quizText}}"></Label>
        <Image *ngIf="quizImage" [src]="quizImage"></Image>

        <!-- <AbsoluteLayout class="answers">
          <FlexboxLayout>
            <StackLayout *ngFor="let answer of answers">
              <Image *ngIf="answer.isCorrect" [src]="getAnswerImageSrc('CORRECT')"></Image>
              <Image *ngIf="!answer.isCorrect" [src]="getAnswerImageSrc('INCORRECT')"></Image>
            </StackLayout>
            <Label text="{{getAnswerCountDisplay()}}"></Label>
          </FlexboxLayout>
        </AbsoluteLayout> -->
      </StackLayout>
    </StackLayout>

    <StackLayout>
      <StackLayout class="answerSelections" *ngIf="shouldShowAnswerSelectionsPattern('TEXT')">
        <StackLayout *ngFor="let answer of answerSelections">
          <Button
            isEnabled="{{isAnswerButtonEnabled()}}"
            text="{{getAnswerText(answer)}}"
            [ngClass]="{'selected': isAnswerSelectedAs(answer)}"
            (tap)="judgement(answer)">
          </Button>
        </StackLayout>
      </StackLayout>

      <FlexboxLayout class="answerSelections" *ngIf="shouldShowAnswerSelectionsPattern('IMAGE')">
        <StackLayout *ngFor="let answer of answerSelections">
          <Image [src]="getAnswerText(answer)" (tap)="judgement(answer)"></Image>
        </StackLayout>
      </FlexboxLayout>
    </StackLayout>
  </FlexboxLayout>

  <FlexboxLayout *ngIf="shouldShow('RESULT')" class="result">
    <StackLayout>
      <Label class="resultText" text="{{resultText}}"></Label>
      <Label class="quizText" textWrap="true" text="{{quizText}}"></Label>
      <Image class="quizImage" *ngIf="quizImage" [src]="quizImage"></Image>
      <StackLayout>
        <Image [src]="getAnswerImageSrc()"></Image>

        <Label *ngIf="shouldShowAnswerSelectionsPattern('TEXT')" text="{{getAnswerText(selectedAnswer)}}"></Label>
        <Image *ngIf="shouldShowAnswerSelectionsPattern('IMAGE')" [src]="getAnswerText(selectedAnswer)"></Image>
      </StackLayout>
    </StackLayout>
    <Button text="{{goToNextButtonLabel}}" (tap)="goToNext()"></Button>
  </FlexboxLayout>
</StackLayout>
